<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="Nyan-Cat.css">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <title>Nyan-Cat</title>
</head>
<body>

<div class="Button1">
    <p><button class="w3-button w3-black w3-round-large w3-display-middle" id="Nyan">Meoww!</button></p>
</div>



<script>

// On click
var button = document.getElementById('Nyan');
button.addEventListener('click', startOfTimer); // create a timer function that runs all the other functions for 10 seconds.


// start timer
function startOfTimer() {

  addBackGround(); // calls the global function "addBackGround" when "startOfTimer" gets activated.


 setTimeout(function () {console.log ('tick,tok') }, 10);

 var counter = 0;
 var setIntervalId = setInterval(function () {
   counter += 1;
   addImageToBody();
   addImageToBody();
   addImageToBody();
   addImageToBody();
   addImageToBody();
   addImageToBody();
   addImageToBody();
   addImageToBody();
   addImageToBody();
   addImageToBody();
   addImageToBody();
   addImageToBody();
    if (counter === 5) {
      console.log('clearing');
      clearInterval(setIntervalId); // stop raining after 10 seconds
    }
  }, 2000);

}

// add image to the body and making it drop 45
function addImageToBody() {
  var imageNyan = document.createElement('img');
  var displayCat = Math.floor(Math.random() * 6) + 2; // variable that defines the random transition of the image
  imageNyan.src = 'PYn.gif';
  document.body.appendChild(imageNyan);

  imageNyan.style.position = 'fixed';
  imageNyan.style.left = Math.floor(Math.random() * (-11)) + 'vw'; // generates the random position of the cat.
  imageNyan.style.top = Math.floor(Math.random() * (-11)) + 'vh';
  imageNyan.style.transition = displayCat + 's'; // applying the variable of "displayCat = 2" to the variables imageNyan transition.

  // humanly wait for the cat to be moved.
  setTimeout(function () {

    imageNyan.style.left = Math.floor(Math.random() * (200 - 50) + 100) + 'vw';
    imageNyan.style.top = Math.floor(Math.random() * (200 - 50) + 100) + 'vh';
  }, 10);


  //Image gets removed when it's out of sight
  setTimeout(function () {
    imageNyan.remove();
  }, displayCat * 1000);
}

function addBackGround() {
  document.body.style.backgroundImage = "url('back.gif')";
  document.getElementById('Nyan').style.display = 'none';

  setTimeout(function () {
    document.body.style.backgroundImage = "";
    document.getElementById('Nyan').style.display = '';
  }, 10000);


}


// set a function that intervals/times out and waits for 1.5 seconds. "setinterval"
// make the cat reapear on random positions. "if" image is on body "return"



</script>
</body>
</html>
